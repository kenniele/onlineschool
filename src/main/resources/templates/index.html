<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:replace="~{fragments/header :: head}">
    <title>Главная - Online School</title>
</head>
<body>
    <div th:replace="~{fragments/header :: header}"></div>
    
    <main class="main-content">
        <!-- Hero Section -->
        <section class="hero">
            <div class="container">
                <div class="hero-content">
                    <div class="hero-text">
                        <h1>Добро пожаловать в Online School</h1>
                        <p class="hero-subtitle">Изучайте новые навыки с лучшими преподавателями. Более <span th:text="${courseCount}">0</span> курсов и <span th:text="${webinarCount}">0</span> вебинаров ждут вас!</p>
                        
                        <div class="hero-buttons">
                            <a href="/courses" class="btn btn-primary btn-lg">
                                <i class="fas fa-book"></i> Смотреть курсы
                            </a>
                            <a href="/webinars" class="btn btn-outline-primary btn-lg" sec:authorize="isAuthenticated()">
                                <i class="fas fa-video"></i> Вебинары
                            </a>
                            <a href="/register" class="btn btn-outline-primary btn-lg" sec:authorize="!isAuthenticated()">
                                <i class="fas fa-user-plus"></i> Регистрация
                            </a>
                        </div>
                    </div>
                    
                    <div class="hero-image">
                        <div class="hero-graphic">
                            <i class="fas fa-graduation-cap"></i>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Statistics Section -->
        <section class="stats-section">
            <div class="container">
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-book"></i>
                        </div>
                        <div class="stat-content">
                            <h3 th:text="${courseCount}">0</h3>
                            <p>Активных курсов</p>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-user-graduate"></i>
                        </div>
                        <div class="stat-content">
                            <h3 th:text="${studentCount}">0</h3>
                            <p>Студентов</p>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-chalkboard-teacher"></i>
                        </div>
                        <div class="stat-content">
                            <h3 th:text="${teacherCount}">0</h3>
                            <p>Преподавателей</p>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon">
                            <i class="fas fa-video"></i>
                        </div>
                        <div class="stat-content">
                            <h3 th:text="${webinarCount}">0</h3>
                            <p>Вебинаров</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Popular Courses Section -->
        <section class="courses-section" th:if="${popularCourses != null and !popularCourses.isEmpty()}">
            <div class="container">
                <div class="section-header">
                    <h2>Популярные курсы</h2>
                    <p>Изучайте востребованные навыки с нашими лучшими курсами</p>
                </div>
                
                <div class="courses-grid">
                    <div class="course-card" th:each="course : ${popularCourses}">
                        <div class="course-image">
                            <i class="fas fa-book-open"></i>
                        </div>
                        <div class="course-content">
                            <h3 th:text="${course.title}">Название курса</h3>
                            <p th:text="${course.description}">Описание курса</p>
                            
                            <div class="course-meta">
                                <span class="course-students">
                                    <i class="fas fa-users"></i>
                                    <span th:text="${course.students.size()}">0</span> студентов
                                </span>
                                <span class="course-price" th:if="${course.price != null}">
                                    <i class="fas fa-ruble-sign"></i>
                                    <span th:text="${course.price}">0</span>
                                </span>
                            </div>
                            
                            <a th:href="@{/courses/{id}(id=${course.id})}" class="btn btn-primary btn-sm">
                                Подробнее
                            </a>
                        </div>
                    </div>
                </div>
                
                <div class="text-center mt-4">
                    <a href="/courses" class="btn btn-outline-primary">
                        <i class="fas fa-arrow-right"></i> Все курсы
                    </a>
                </div>
            </div>
        </section>

        <!-- Upcoming Webinars Section -->
        <section class="webinars-section" th:if="${upcomingWebinars != null and !upcomingWebinars.isEmpty()}">
            <div class="container">
                <div class="section-header">
                    <h2>Ближайшие вебинары</h2>
                    <p>Присоединяйтесь к живым занятиям с экспертами</p>
                </div>
                
                <div class="webinars-grid">
                    <div class="webinar-card" th:each="webinar : ${upcomingWebinars}">
                        <div class="webinar-date">
                            <span class="day" th:text="${#temporals.format(webinar.startTime, 'dd')}">01</span>
                            <span class="month" th:text="${#temporals.format(webinar.startTime, 'MMM')}">Янв</span>
                        </div>
                        <div class="webinar-content">
                            <h4 th:text="${webinar.title}">Название вебинара</h4>
                            <p th:text="${webinar.description}">Описание вебинара</p>
                            
                            <div class="webinar-meta">
                                <span class="webinar-time">
                                    <i class="fas fa-clock"></i>
                                    <span th:text="${#temporals.format(webinar.startTime, 'HH:mm')}">10:00</span>
                                </span>
                                <span class="webinar-duration">
                                    <i class="fas fa-hourglass-half"></i>
                                    <span th:text="${webinar.duration}">60</span> мин
                                </span>
                            </div>
                            
                            <a th:href="@{/webinars/{id}(id=${webinar.id})}" class="btn btn-primary btn-sm" sec:authorize="isAuthenticated()">
                                Подробнее
                            </a>
                            <a href="/login" class="btn btn-outline-primary btn-sm" sec:authorize="!isAuthenticated()">
                                Войти для участия
                            </a>
                        </div>
                    </div>
                </div>
                
                <div class="text-center mt-4" sec:authorize="isAuthenticated()">
                    <a href="/webinars" class="btn btn-outline-primary">
                        <i class="fas fa-arrow-right"></i> Все вебинары
                    </a>
                </div>
            </div>
        </section>

        <!-- Features Section -->
        <section class="features-section">
            <div class="container">
                <div class="section-header">
                    <h2>Почему выбирают нас?</h2>
                    <p>Преимущества обучения в Online School</p>
                </div>
                
                <div class="features-grid">
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-laptop-code"></i>
                        </div>
                        <h3>Современные технологии</h3>
                        <p>Изучайте актуальные технологии и инструменты, которые используются в индустрии</p>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <h3>Опытные преподаватели</h3>
                        <p>Учитесь у практикующих специалистов с многолетним опытом работы</p>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-clock"></i>
                        </div>
                        <h3>Гибкий график</h3>
                        <p>Учитесь в удобное время и в своем темпе, совмещая с работой и личной жизнью</p>
                    </div>
                    
                    <div class="feature-card">
                        <div class="feature-icon">
                            <i class="fas fa-certificate"></i>
                        </div>
                        <h3>Сертификаты</h3>
                        <p>Получайте официальные сертификаты о прохождении курсов для вашего портфолио</p>
                    </div>
                </div>
            </div>
        </section>
    </main>
    
    <div th:replace="~{fragments/footer :: footer}"></div>
</body>
</html> 